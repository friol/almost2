"use strict";function Sprite(n){var e,t,o,r=document.getElementById(n.id),i=r.width=n.width,l=r.height=n.height,a=r.getContext("2d"),f=new Image,u=n.image_width?n.image_width/i:function(){throw g}(),c=0,m=-1,s=null,p=!1,d=n.err,h=new Error("Animation is already playing"),w=new RangeError("Parameter must be between 1 and "+u),g=new Error("Missing property");f.src=n.src,f.onload=(()=>{a.drawImage(f,0*i,0,i,l,0,0,i,l)}),this.play=function(n){if(p&&d)console.error(h);else if(n.to>u&&d)console.error(w);else if(n.from<1&&d)console.error(w);else{null==n.fps&&(n.fps=60),null==n.from&&(n.from=1),null==n.to&&(n.to=u),null==n.n&&(n.n=1),null!=o&&o&&t==t&&null!=t||(n.to>n.from&&(t=0),n.from>n.to&&(t=1));var r=1e3/n.fps;c=n.from-1,n.from--,n.to--,p=!0,e=requestAnimationFrame(y.bind(null,n.from,n.to,n.n,r,n.step,n.loop))}},this.pause=function(){if(!p&&d)throw h;cancelAnimationFrame(e),p=!1,o=!0,m=-1},this.reset=function(n){null==n&&(n=0),cancelAnimationFrame(e),p=!1,m=-1,c=n-1,a.clearRect(0,0,i,l),a.drawImage(f,--n*i,0,i,l,0,0,i,l)},this.frame=function(){return c+1};var y=function(n,r,u,d,h,w,g){e=requestAnimationFrame(y.bind(null,n,r,u,d,h,w)),null===s&&(s=g);var A=Math.floor((g-s)/d);A>m&&(m=A,t>=u&&c==r&&0!==u&&(p=!1,o=!1),a.clearRect(0,0,i,l),a.drawImage(f,c*i,0,i,l,0,0,i,l),r>n?(c>=r?("function"==typeof h&&h(c+1),c=n):("function"==typeof h&&h(c+1),c++),c==r&&("function"==typeof w&&w(t),t++)):n>r&&(c<=r?("function"==typeof h&&h(c+1),c=n):("function"==typeof h&&h(c+1),c--),c==n&&("function"==typeof w&&w(t),t++)))}}